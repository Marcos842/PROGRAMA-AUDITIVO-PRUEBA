<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcriptor para Personas Sordas - Tiempo Real</title>
    
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <div id="pantalla-principal">
        <h1>ğŸ¤ Transcriptor en Vivo - Tiempo Real</h1>
        
        <!-- âœ¨ CÃ³digo de Sala con presencia -->
        <div class="sala-compartida">
            <h3>ğŸ“¡ Compartir con otros dispositivos</h3>
            <div class="codigo-sala">
                <label>Tu nombre:</label>
                <input type="text" id="mi-nombre" placeholder="Ej: Juan" maxlength="20">
                <label>CÃ³digo de Sala:</label>
                <input type="text" id="codigo-sala" placeholder="Ej: familia2024" maxlength="20">
                <button id="conectar-sala" class="conectar">ğŸ”— Conectar</button>
                <button id="desconectar-sala" class="desconectar" style="display:none;">âŒ Desconectar</button>
            </div>
            <p class="estado-conexion" id="estado-conexion">âšª Sin conexiÃ³n</p>
            <!-- âœ¨ Lista de personas conectadas -->
            <div id="personas-conectadas" style="display:none;">
                <h4>ğŸ‘¥ Personas en la sala:</h4>
                <ul id="lista-personas"></ul>
            </div>
        </div>
        
        <!-- ConfiguraciÃ³n de Hablantes -->
        <div class="config-hablantes">
            <h3>âš™ï¸ Configurar Hablantes</h3>
            <div class="inputs-hablantes">
                <input type="text" id="nombre-a" placeholder="Nombre Hablante A" value="Hablante A">
                <input type="text" id="nombre-b" placeholder="Nombre Hablante B" value="Hablante B">
                <input type="text" id="nombre-c" placeholder="Nombre Hablante C" value="Hablante C">
            </div>
        </div>
        
        <!-- Indicador del hablante actual -->
        <div id="hablante-actual">
            ğŸ¤ Hablando ahora: <span id="nombre-actual">Hablante A</span>
        </div>
        
        <div class="controles">
            <button id="iniciar">â–¶ï¸ Iniciar</button>
            <button id="detener" class="detener">â¹ï¸ Detener</button>
            <button id="cambiar-hablante" class="cambiar">ğŸ”„ Cambiar Hablante</button>
            <button id="limpiar" class="limpiar">ğŸ—‘ï¸ Limpiar</button>
            <button id="guardar">ğŸ’¾ Guardar</button>
            <button id="exportar">ğŸ“¥ Exportar CSV</button>
        </div>
        
        <div id="transcripcion">
            <h2>ConversaciÃ³n:</h2>
            <div id="texto-final"></div>
            <div id="texto-temporal" class="temporal"></div>
        </div>
        
        <div id="historial">
            <div class="historial-header">
                <h2>Historial guardado:</h2>
                <button id="borrar-historial" class="borrar-historial">ğŸ—‘ï¸ Borrar Historial</button>
            </div>
            <div id="lista-conversaciones"></div>
        </div>
    </div>
    
    <div id="alertas-sonido">
        ğŸ”” ALERTA: Sonido detectado
    </div>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <script src="app.js"></script>
</body>
</html>
